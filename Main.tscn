[gd_scene load_steps=34 format=2]

[ext_resource path="res://assets/car.gd" type="Script" id=1]
[ext_resource path="res://camera_pivot.gd" type="Script" id=2]
[ext_resource path="res://assets/Cadnav.com_B090242038.obj" type="ArrayMesh" id=3]

[sub_resource type="CubeMesh" id=1]
size = Vector3( 250, 1, 250 )

[sub_resource type="SpatialMaterial" id=2]
render_priority = -1
flags_world_triplanar = true
albedo_color = Color( 0.270588, 0.309804, 0.721569, 1 )

[sub_resource type="ConcavePolygonShape" id=3]
data = PoolVector3Array( -25, 0.5, 25, 25, 0.5, 25, -25, -0.5, 25, 25, 0.5, 25, 25, -0.5, 25, -25, -0.5, 25, 25, 0.5, -25, -25, 0.5, -25, 25, -0.5, -25, -25, 0.5, -25, -25, -0.5, -25, 25, -0.5, -25, 25, 0.5, 25, 25, 0.5, -25, 25, -0.5, 25, 25, 0.5, -25, 25, -0.5, -25, 25, -0.5, 25, -25, 0.5, -25, -25, 0.5, 25, -25, -0.5, -25, -25, 0.5, 25, -25, -0.5, 25, -25, -0.5, -25, 25, 0.5, 25, -25, 0.5, 25, 25, 0.5, -25, -25, 0.5, 25, -25, 0.5, -25, 25, 0.5, -25, -25, -0.5, 25, 25, -0.5, 25, -25, -0.5, -25, 25, -0.5, 25, 25, -0.5, -25, -25, -0.5, -25 )

[sub_resource type="SpatialMaterial" id=49]
albedo_color = Color( 0.0588235, 0.0392157, 0.396078, 1 )
metallic = 0.94
metallic_texture_channel = 2

[sub_resource type="SpatialMaterial" id=9]
albedo_color = Color( 0.0392157, 0.0431373, 0.415686, 1 )
metallic = 0.33

[sub_resource type="SpatialMaterial" id=10]
albedo_color = Color( 0.780392, 0.74902, 0.74902, 1 )

[sub_resource type="SpatialMaterial" id=11]
albedo_color = Color( 0.835294, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=13]
albedo_color = Color( 0, 0, 0, 0.580392 )

[sub_resource type="SpatialMaterial" id=14]
albedo_color = Color( 0.192157, 0.196078, 0.203922, 1 )

[sub_resource type="SpatialMaterial" id=19]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=20]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=21]

[sub_resource type="SpatialMaterial" id=22]

[sub_resource type="SpatialMaterial" id=23]
albedo_color = Color( 0.00392157, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=24]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=25]
albedo_color = Color( 0.466667, 0.466667, 0.466667, 1 )

[sub_resource type="SpatialMaterial" id=29]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=30]

[sub_resource type="SpatialMaterial" id=31]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=35]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=40]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=41]

[sub_resource type="SpatialMaterial" id=48]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="ConvexPolygonShape" id=5]
points = PoolVector3Array( -0.7225, -0.25, -1.43083, 0.694167, 0.25, 1.37472, -0.694167, 0.25, 1.37472, 0.7225, -0.25, 1.43083, 0.694167, 0.25, -1.37472, -0.7225, -0.25, 1.43083, 0.7225, -0.25, -1.43083, -0.694167, 0.25, -1.37472 )

[sub_resource type="SpatialMaterial" id=6]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="CylinderMesh" id=7]
material = SubResource( 6 )
top_radius = 0.4
bottom_radius = 0.4
height = 0.25
radial_segments = 12

[sub_resource type="Curve3D" id=50]
_data = {
"points": PoolVector3Array( 9.46155, 1.61565, -13.5246, -9.46155, -1.61565, 13.5246, 19.6024, -1.91385, 2.38835, -13.15, -7.62939e-06, 0.191154, 13.15, 7.62939e-06, -0.191154, 33.2751, -4.15977, 40.6373, -7.19629, 0, -4.43837, 7.19629, 0, 4.43837, 55.1506, -4.15977, 49.512, -3.97139, 0, -9.28981, 3.97139, 0, 9.28981, 86.8303, -4.15977, 56.7218, -0.447479, 0, -5.43514, 0.447479, 0, 5.43514, 87.5515, -4.15977, 86.8284, 11.3121, 0, -3.77335, -11.3121, 0, 3.77335, 82.8672, -4.15977, 114.411, 7.53864, 0, -7.07513, -7.53864, 0, 7.07513, 57.868, -4.15977, 129.505, -13.6871, 0, 3.3019, 13.6871, 0, -3.3019, 74.8486, -4.15977, 154.504, -11.8004, 0, 2.35854, 11.8004, 0, -2.35854, 128.62, -4.15977, 167.239, -10.377, 0, 3.30177, 10.377, 0, -3.30177, 169.657, -4.15977, 157.334, -7.07526, 0, 1.41505, 7.07526, 0, -1.41505, 184.279, -4.15977, 137.995, 2.83011, 0, 8.01862, -2.83011, 0, -8.01862, 182.392, -4.15977, 104.506, -7.07526, 0, 11.3204, 7.07526, 0, -11.3204, 177.675, -4.15977, 76.2046, -13.2072, 0, 1.88673, 13.2072, 0, -1.88673, 211.165, -4.15977, 67.2426, -11.3204, 0, 7.07524, 11.3204, 0, -7.07524, 240.881, -4.15977, 74.3179, -17.924, 0, 4.71684, 17.924, 0, -4.71684, 269.654, -4.15977, 94.1285, 0, 0, 0, 0, 0, 0, 299.841, -4.15977, 108.279, -10.377, 0, 3.3018, 10.377, 0, -3.3018, 340.406, -4.15977, 118.656, -3.77344, 0, 3.3018, 3.77344, 0, -3.3018, 363.99, -4.15977, 105.921, 0.943359, 0, 9.43366, -0.943359, 0, -9.43366, 380.028, -4.15977, 75.2612, 0, 0, 0, 0, 0, 0, 369.179, -4.15977, 29.0363, 8.96198, 0, 10.8487, -8.96198, 0, -10.8487, 355.972, -4.15977, -22.8489, 0, 0, 0, 0, 0, 0, 353.142, -4.15977, -65.3004, 6.60358, 0, 6.13188, -6.60358, 0, -6.13188, 340.878, -4.15977, -87.9411, 7.07526, 0, -0.943375, -7.07526, 0, 0.943375, 315.879, -4.15977, -89.3562, 0, 0, 0, 0, 0, 0, 304.087, -4.15977, -79.9225, 3.30176, 0, -13.2071, -3.30176, 0, 13.2071, 283.333, -4.15977, -55.395, 1.88678, 0, -6.60356, -1.88678, 0, 6.60356, 296.54, -4.15977, -14.3586, 7.07526, 0, -5.18851, -7.07526, 0, 5.18851, 287.578, -4.15977, 7.81053, 19.339, 0, -0.47168, -19.339, 0, 0.47168, 242.296, -4.15977, 22.9044, 5.66022, 0, 7.54693, -5.66022, 0, -7.54693, 225.315, -4.15977, 3.0937, 18.3956, 0, 8.01861, -18.3956, 0, -8.01861, 188.524, -4.15977, -14.8303, 11.3204, 0, 11.3204, -11.3204, 0, -11.3204, 136.167, -4.15977, -70.0172, 28.7727, 0, 5.6602, -28.7727, 0, -5.6602, 102.678, -4.15977, -86.5261, 25.9426, 0, -1.88673, -25.9426, 0, 1.88673, 9.28459, -4.15977, -94.073, 24.0558, 0, -8.01862, -24.0558, 0, 8.01862, -51.0909, -4.15977, -82.281, 18.3956, 0, -12.2638, -18.3956, 0, 12.2638, -110.051, -4.15977, -53.5083, 9.90535, 0, -20.2824, -9.90535, 0, 20.2824, -161.465, -4.15977, 2.15033, -18.3956, 0, -13.2071, 18.3956, 0, 13.2071, -152.031, -4.15977, 106.864, -21.6974, 0, 23.5842, 21.6974, 0, -23.5842, -41.1855, -4.15977, 137.052, -16.0372, 0, 25.4709, 16.0372, 0, -25.4709, 8.81291, -4.15977, 104.034, 33.4895, 0, -17.4523, -33.4895, 0, 17.4523, -47.3174, -4.15977, 63.4691, -7.07526, 0, 28.7727, 7.07526, 0, -28.7727, -107.221, -4.15977, 33.7531, -4.71683, 0, 11.7921, 4.71683, 0, -11.7921, -54.8643, -4.15977, 4.03707, -17.924, 0, 6.13188, 17.924, 0, -6.13188, -42.6006, -4.15977, -45.4897, 9.46155, 1.61565, -13.5246, -9.46155, -1.61565, 13.5246, 19.6024, -1.91385, 2.38835 ),
"tilts": PoolRealArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )
}

[sub_resource type="ExternalTexture" id=56]

[sub_resource type="SpatialMaterial" id=55]
albedo_color = Color( 0, 0.968627, 0.0392157, 1 )
albedo_texture = SubResource( 56 )

[sub_resource type="SpatialMaterial" id=54]
albedo_color = Color( 0.819608, 0.615686, 0.988235, 1 )

[node name="Game" type="Spatial"]

[node name="ground" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.489624, 0 )
visible = false
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="StaticBody" type="StaticBody" parent="ground"]

[node name="CollisionShape" type="CollisionShape" parent="ground/StaticBody"]
transform = Transform( 100, 0, 0, 0, 1, 0, 0, 0, 100, 0, 0, 0 )
shape = SubResource( 3 )

[node name="car" type="VehicleBody" parent="."]
transform = Transform( -0.9956, 0, 0.0937085, 0, 1, 0, -0.0937085, 0, -0.9956, 19.3976, 118.519, 8.02229 )
script = ExtResource( 1 )

[node name="car_body" type="MeshInstance" parent="car"]
transform = Transform( 0.0299996, 4.25568e-06, -0.000154969, 0.000154969, -0.00164646, 0.0299544, -4.25568e-06, -0.0299548, -0.00164646, 0, -0.562187, 0 )
mesh = ExtResource( 3 )
material/0 = SubResource( 49 )
material/1 = SubResource( 9 )
material/2 = SubResource( 10 )
material/3 = SubResource( 11 )
material/4 = SubResource( 9 )
material/5 = SubResource( 13 )
material/6 = SubResource( 14 )
material/7 = SubResource( 9 )
material/8 = SubResource( 9 )
material/9 = SubResource( 9 )
material/10 = SubResource( 9 )
material/11 = SubResource( 19 )
material/12 = SubResource( 20 )
material/13 = SubResource( 21 )
material/14 = SubResource( 22 )
material/15 = SubResource( 23 )
material/16 = SubResource( 24 )
material/17 = SubResource( 25 )
material/18 = SubResource( 9 )
material/19 = SubResource( 9 )
material/20 = SubResource( 9 )
material/21 = SubResource( 29 )
material/22 = SubResource( 30 )
material/23 = SubResource( 31 )
material/24 = SubResource( 9 )
material/25 = SubResource( 9 )
material/26 = SubResource( 9 )
material/27 = SubResource( 35 )
material/28 = SubResource( 9 )
material/29 = SubResource( 40 )
material/30 = SubResource( 9 )
material/31 = SubResource( 9 )
material/32 = SubResource( 41 )
material/33 = SubResource( 9 )
material/34 = SubResource( 9 )
material/35 = SubResource( 9 )
material/36 = SubResource( 9 )
material/37 = SubResource( 9 )
material/38 = SubResource( 9 )
material/39 = SubResource( 48 )
material/40 = SubResource( 9 )
material/41 = SubResource( 9 )
material/42 = SubResource( 9 )
material/43 = SubResource( 9 )
material/44 = SubResource( 9 )
material/45 = SubResource( 9 )
material/46 = SubResource( 9 )
material/47 = SubResource( 9 )
material/48 = SubResource( 9 )
material/49 = SubResource( 9 )
material/50 = SubResource( 9 )
material/51 = SubResource( 9 )
material/52 = SubResource( 9 )
material/53 = SubResource( 9 )
material/54 = SubResource( 9 )
material/55 = SubResource( 9 )
material/56 = SubResource( 9 )
material/57 = SubResource( 9 )
material/58 = SubResource( 9 )
material/59 = SubResource( 9 )
material/60 = SubResource( 9 )
material/61 = SubResource( 9 )
material/62 = SubResource( 9 )
material/63 = SubResource( 9 )
material/64 = SubResource( 9 )
material/65 = SubResource( 9 )
material/66 = SubResource( 9 )
material/67 = SubResource( 9 )
material/68 = SubResource( 9 )
material/69 = SubResource( 9 )
material/70 = SubResource( 9 )
material/71 = SubResource( 9 )
material/72 = SubResource( 9 )
material/73 = SubResource( 9 )
material/74 = SubResource( 9 )
material/75 = SubResource( 9 )
material/76 = SubResource( 49 )
material/77 = SubResource( 49 )
material/78 = SubResource( 49 )
material/79 = SubResource( 49 )
material/80 = SubResource( 49 )

[node name="CollisionShape" type="CollisionShape" parent="car"]
transform = Transform( 1.143, 0, 0, 0, 1.983, 0, 0, 0, 1.393, 0, 0.255, 0 )
shape = SubResource( 5 )

[node name="front_left_wheel" type="VehicleWheel" parent="car"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.881831, -0.124729, 1.27406 )
use_as_steering = true
wheel_radius = 0.4
suspension_stiffness = 50.0
damping_compression = 1.9
damping_relaxation = 2.0

[node name="MeshInstance" type="MeshInstance" parent="car/front_left_wheel"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 7 )

[node name="front_right_wheel" type="VehicleWheel" parent="car"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.858989, -0.124729, 1.27406 )
use_as_steering = true
wheel_radius = 0.4
suspension_stiffness = 50.0
damping_compression = 1.9
damping_relaxation = 2.0

[node name="MeshInstance" type="MeshInstance" parent="car/front_right_wheel"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 7 )

[node name="back_left_wheel" type="VehicleWheel" parent="car"]
transform = Transform( 1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, 0.881834, -0.24926, -1.46826 )
use_as_traction = true
wheel_radius = 0.4
suspension_stiffness = 50.0
damping_compression = 1.9
damping_relaxation = 2.0

[node name="MeshInstance" type="MeshInstance" parent="car/back_left_wheel"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 7 )

[node name="back_right_wheel" type="VehicleWheel" parent="car"]
transform = Transform( 1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, -0.859087, -0.24926, -1.46826 )
use_as_traction = true
wheel_radius = 0.4
suspension_stiffness = 50.0
damping_compression = 1.9
damping_relaxation = 2.0

[node name="MeshInstance" type="MeshInstance" parent="car/back_right_wheel"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 7 )

[node name="camera_pivot" type="Spatial" parent="car"]
script = ExtResource( 2 )

[node name="Camera" type="Camera" parent="car/camera_pivot"]
transform = Transform( -0.999847, 6.98385e-10, -0.0175047, -0.00603945, 0.938595, 0.344967, 0.0164298, 0.34502, -0.938452, 0, 3.52056, -5.03512 )

[node name="Track" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 119.355, 0 )

[node name="Path" type="Path" parent="Track"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.678863, -0.623825, 0.62406 )
curve = SubResource( 50 )

[node name="Road" type="CSGPolygon" parent="Track/Path"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00469685, -117.176, -0.00434208 )
use_collision = true
invert_faces = true
polygon = PoolVector2Array( -5, 0, -5, 0.1, 5, 0.1, 5, 0 )
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource( 55 )

[node name="CollisionShape" type="CSGPolygon" parent="Track/Path"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -116.936, 0 )
use_collision = true
invert_faces = true
polygon = PoolVector2Array( -4, 0, 4, 0, 4, 2, 8, 2, 8, -1, -8, -1, -8, 2, -4, 2 )
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.14
path_simplify_angle = 0.0
path_rotation = 2
path_local = false
path_continuous_u = false
path_u_distance = 1.0
path_joined = false
material = SubResource( 54 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.0618672, 0.998084, 0, -0.998084, 0.0618672, 0, 27.7538, -32.1162 )
light_energy = 7.018
shadow_enabled = true
